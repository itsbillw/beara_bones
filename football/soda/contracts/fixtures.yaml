# Soda 4 contract for fixtures table (DuckDB).
# Ensures fixtures used by dashboard and loading have required fields and no duplicates.
dataset: football/main/fixtures

checks:
  - row_count:
      name: Fixtures table must not be empty
      threshold:
        must_be_greater_than: 0

columns:
  - name: fixture_id
    checks:
      - missing:
          name: No missing fixture_id
          threshold:
            must_be: 0
      - duplicate:
          name: fixture_id must be unique
          threshold:
            must_be: 0
  - name: date
    checks:
      - missing:
          name: No missing date
          threshold:
            must_be: 0
  - name: league_id
    checks:
      - missing:
          name: No missing league_id
          threshold:
            must_be: 0
  - name: league_season
    checks:
      - missing:
          name: No missing league_season
          threshold:
            must_be: 0
  - name: home_team_name
    checks:
      - missing:
          name: No missing home_team_name
          threshold:
            must_be: 0
  - name: away_team_name
    checks:
      - missing:
          name: No missing away_team_name
          threshold:
            must_be: 0
  # goals_home / goals_away may be null for unplayed fixtures; team ids may be missing in some API responses
